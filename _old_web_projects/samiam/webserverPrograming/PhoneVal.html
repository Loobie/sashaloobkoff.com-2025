#!/usr/bin/perl -w

# Assignment: 03. Phone Number Validator (09/19/02)

use strict;
use CGI qw(:standard);


# if there is a form entry, display results
if (param()) {
  my $phone_number = param('number');
  print header;
  print start_html('Phone Validator');
  
  # if input matches criteria, it is valid
  if ($phone_number =~ /(^(\(?(\d{3})(\) )?)?(\d{3})[- ]?(\d{4})$)/) {
   print "Phone number ".param('number')." is <font color=\"\#00CC00\">valid</font>!";
   } else {
     print "Phone number ".param('number')." is <font color=\"\#00CC00\">not valid</font>!";
   }
}
    
# else display form
else {
  print header;
  print start_html('Phone Validator'),
      start_form,
      "Enter Phone Number ",
      textfield('number'),
      p,
      submit(-value=>'Check Number'),
      end_form;
     }
print end_html;
